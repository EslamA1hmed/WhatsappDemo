@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(5px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.message-wrapper.sent {
    align-self: flex-end;
    align-items: flex-end;
}

.message-wrapper.received {
    align-self: flex-start;
    align-items: flex-start;
}

/* Reply Context */
.reply-context {
    display: flex;
    gap: 8px;
    padding: 6px 10px;
    background: rgba(0, 0, 0, 0.06);
    border-radius: 7.5px 7.5px 0 0;
    margin-bottom: -2px;
    font-size: 13px;
    border-left: 4px solid #06cf9c;
}

.sent .reply-context {
    background: rgba(0, 0, 0, 0.08);
}

.reply-bar {
    width: 0;
    display: none;
}

.reply-content {
    display: flex;
    flex-direction: column;
    gap: 2px;
    flex: 1;
}

.reply-to {
    color: #06cf9c;
    font-weight: 500;
    font-size: 12.5px;
}

.reply-text {
    color: #667781;
    font-size: 13px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

/* Message Bubble */
.message-bubble {
    padding: 6px 7px 8px 9px;
    border-radius: 7.5px;
    position: relative;
    word-wrap: break-word;
    box-shadow: 0 1px 0.5px rgba(11, 20, 26, .13);
    max-width: 100%;
    transition: box-shadow 0.2s ease;
}

.message-bubble.clickable:hover {
    box-shadow: 0 2px 8px rgba(11, 20, 26, .20);
}

.sent .message-bubble {
    background: linear-gradient(135deg, #d9fdd3, #c3f0ca);
    border-radius: 7.5px 7.5px 0 7.5px;
}

.received .message-bubble {
    background: #ffffff;
    border-radius: 7.5px 7.5px 7.5px 0;
}

.message-bubble.has-media {
    padding: 4px;
    border-radius: 7.5px;
}

.message-media {
    border-radius: 7.5px;
    overflow: hidden;
    margin-bottom: 0;
}

.media-image,
.media-video {
    width: 100%;
    max-width: 330px;
    height: auto;
    display: block;
    border-radius: 7.5px;
}

.message-text {
    font-size: 14.2px;
    line-height: 19px;
    color: #111b21;
    white-space: pre-wrap;
    word-break: break-word;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
}

.message-text.rtl {
    direction: rtl;
    text-align: right;
}

.message-caption {
    font-size: 14.2px;
    color: #111b21;
    margin-top: 4px;
    padding: 4px 5px 0 5px;
    line-height: 19px;
}

.message-caption.rtl {
    direction: rtl;
    text-align: right;
}

.message-footer {
    display: flex;
    justify-content: flex-end;
    align-items: center;
    gap: 3px;
    margin-top: 2px;
    float: right;
    margin-left: 8px;
}

.message-time {
    font-size: 11px;
    color: #667781;
    white-space: nowrap;
    font-weight: 400;
}

.message-status {
    font-size: 16px;
    line-height: 15px;
    display: flex;
    align-items: center;
}

.message-status.read {
    color: #53bdeb;
}

.message-status:not(.read) {
    color: #667781;
}

/* Template Messages */
.message-template {
    display: flex;
    flex-direction: column;
    gap: 6px;
    padding: 8px;
    background: rgba(0, 0, 0, 0.04);
    border-radius: 5px;
    margin: 2px 0;
}

.sent .message-template {
    background: rgba(0, 0, 0, 0.06);
}

.template-name {
    font-weight: 500;
    font-size: 13px;
    color: #00a884;
}

.template-header {
    font-weight: 500;
    font-size: 14.2px;
    color: #111b21;
    line-height: 19px;
}

.template-body {
    font-size: 14.2px;
    color: #111b21;
    line-height: 19px;
}

.template-footer {
    font-size: 12px;
    color: #667781;
    font-style: italic;
}

.message-buttons {
    display: flex;
    flex-direction: column;
    gap: 6px;
    margin-top: 6px;
}

.button-item {
    padding: 8px 12px;
    background: rgba(0, 0, 0, 0.05);
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-size: 14px;
    color: #00a884;
    transition: all 0.2s;
    text-align: center;
    font-weight: 500;
}

.button-item:hover {
    background: rgba(0, 0, 0, 0.08);
}

/* Reply Preview Bar */
.reply-preview {
    display: flex;
    align-items: center;
    gap: 0;
    padding: 10px 16px;
    background: #f0f2f5;
    border-left: none;
    animation: slideUp 0.2s ease;
    box-shadow: none;
    border-top: 1px solid #e9edef;
}

@keyframes slideUp {
    from {
        opacity: 0;
        transform: translateY(10px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.reply-preview .reply-bar {
    width: 4px;
    background: #06cf9c;
    height: 40px;
    border-radius: 2px;
    margin-right: 12px;
    display: block;
    flex-shrink: 0;
}

.reply-info {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 2px;
    min-width: 0;
}

.replying-label {
    font-size: 12.5px;
    color: #06cf9c;
    font-weight: 500;
}

.replying-message {
    font-size: 14px;
    color: #667781;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.cancel-reply {
    background: none;
    border: none;
    font-size: 24px;
    color: #8696a0;
    cursor: pointer;
    padding: 4px 8px;
    transition: all 0.2s;
    margin-left: 8px;
    flex-shrink: 0;
}

.cancel-reply:hover {
    color: #667781;
}

/* Message Type Panel */
.message-type-panel {
    background: #ffffff;
    border-top: 1px solid #e9edef;
    padding: 16px 20px;
    max-height: 500px;
    overflow-y: auto;
    animation: slideDown 0.2s ease;
    flex-shrink: 0;
}

@keyframes slideDown {
    from {
        opacity: 0;
        max-height: 0;
        padding-top: 0;
        padding-bottom: 0;
    }

    to {
        opacity: 1;
        max-height: 500px;
        padding-top: 16px;
        padding-bottom: 16px;
    }
}

.message-form {
    display: flex;
    flex-direction: column;
    gap: 16px;
}

/* ‚úÖ Upload Section Styles */
.upload-section {
    display: flex;
    justify-content: center;
    margin-bottom: 16px;
}

.upload-btn {
    padding: 12px 24px;
    background: linear-gradient(135deg, #25d366, #128c7e);
    color: white;
    border: none;
    border-radius: 8px;
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s;
    box-shadow: 0 2px 8px rgba(37, 211, 102, 0.3);
}

.upload-btn:hover:not(:disabled) {
    background: linear-gradient(135deg, #128c7e, #075e54);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(37, 211, 102, 0.4);
}

.upload-btn:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none;
}

/* ‚úÖ Selected File Preview */
.selected-file-preview {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px;
    background: #f8f9fa;
    border-radius: 8px;
    border: 2px solid #e9edef;
    margin-bottom: 12px;
    position: relative;
}

.selected-file-preview.document {
    flex-direction: row;
}

.file-preview-img,
.file-preview-video {
    width: 100%;
    max-width: 200px;
    max-height: 150px;
    object-fit: cover;
    border-radius: 6px;
    border: 1px solid #e9edef;
}

.document-icon {
    font-size: 48px;
    padding: 12px;
}

.file-info {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 4px;
    min-width: 0;
}

.file-name {
    font-size: 14px;
    font-weight: 600;
    color: #111b21;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.file-size {
    font-size: 12px;
    color: #667781;
}

.remove-file-btn {
    position: absolute;
    top: 8px;
    right: 8px;
    width: 28px;
    height: 28px;
    background: rgba(0, 0, 0, 0.7);
    color: white;
    border: none;
    border-radius: 50%;
    font-size: 18px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s;
}

.remove-file-btn:hover:not(:disabled) {
    background: rgba(0, 0, 0, 0.9);
    transform: scale(1.1);
}

.remove-file-btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

/* ‚úÖ Upload Progress */
.upload-progress {
    display: flex;
    flex-direction: column;
    gap: 8px;
    margin-bottom: 12px;
}

.progress-bar {
    width: 100%;
    height: 8px;
    background: #e9edef;
    border-radius: 4px;
    overflow: hidden;
}

.progress-fill {
    height: 100%;
    background: linear-gradient(90deg, #25d366, #128c7e);
    transition: width 0.3s ease;
    border-radius: 4px;
}

.progress-text {
    font-size: 13px;
    color: #667781;
    text-align: center;
    font-weight: 500;
}

/* ‚úÖ Divider */
.divider-text {
    text-align: center;
    color: #8696a0;
    font-size: 13px;
    font-weight: 600;
    margin: 16px 0;
    position: relative;
}

.divider-text::before,
.divider-text::after {
    content: '';
    position: absolute;
    top: 50%;
    width: 40%;
    height: 1px;
    background: #e9edef;
}

.divider-text::before {
    left: 0;
}

.divider-text::after {
    right: 0;
}

.form-group {
    display: flex;
    flex-direction: column;
    gap: 8px;
    margin-bottom: 12px;
}

.form-section {
    background: white;
    padding: 16px;
    border-radius: 10px;
    margin-bottom: 16px;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
}

.section-label {
    font-size: 13px;
    font-weight: 700;
    color: #00a884;
    margin-bottom: 12px;
    display: block;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.template-form {
    max-height: 350px;
    overflow-y: auto;
    padding-right: 8px;
}

.template-form::-webkit-scrollbar {
    width: 6px;
}

.template-form::-webkit-scrollbar-thumb {
    background: rgba(0, 0, 0, 0.16);
    border-radius: 8px;
}

.template-fields {
    display: flex;
    flex-direction: column;
    gap: 8px;
    margin-top: 16px;
}

.field-label {
    font-size: 13px;
    font-weight: 600;
    color: #54656f;
    margin-bottom: 6px;
    display: block;
}

.form-input,
.form-select {
    width: 100%;
    padding: 8px 12px;
    border: 1px solid #d1d7db;
    border-radius: 8px;
    font-size: 14px;
    background: white;
    color: #111b21;
    transition: all 0.2s;
}

.form-input:focus,
.form-select:focus {
    outline: none;
    border-color: #00a884;
    box-shadow: 0 0 0 2px rgba(0, 168, 132, 0.1);
}

.form-input:disabled,
.form-select:disabled {
    background: #f0f2f5;
    cursor: not-allowed;
    opacity: 0.6;
}

.form-input.small {
    font-size: 13px;
    padding: 6px 10px;
}

.form-select {
    cursor: pointer;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%2354656f' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
    background-position: right 8px center;
    background-repeat: no-repeat;
    background-size: 16px;
    padding-right: 36px;
    appearance: none;
}

/* Input Area */
.input-area {
    display: flex;
    align-items: flex-end;
    gap: 8px;
    padding: 10px 16px;
    background: #f0f2f5;
    border-top: none;
    min-height: 62px;
    position: relative;
}

.attach-btn {
    background: none;
    border: none;
    font-size: 26px;
    cursor: pointer;
    padding: 6px;
    border-radius: 50%;
    transition: all 0.2s;
    color: #54656f;
    margin-bottom: 6px;
    flex-shrink: 0;
    position: relative;
}

.attach-btn:hover,
.attach-btn.active {
    background: rgba(0, 0, 0, 0.05);
}

.message-options {
    position: absolute;
    bottom: 70px;
    left: 16px;
    background: white;
    border-radius: 12px;
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);
    padding: 8px;
    display: flex;
    flex-direction: column;
    gap: 4px;
    min-width: 200px;
    animation: slideUp 0.2s ease;
    z-index: 10;
}

.option-btn {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px 16px;
    background: transparent;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.2s;
    text-align: left;
}

.option-btn:hover {
    background: #f0f2f5;
}

.option-icon {
    font-size: 20px;
    width: 24px;
    text-align: center;
}

.option-label {
    font-size: 15px;
    color: #111b21;
    font-weight: 400;
}

.message-input {
    flex: 1;
    padding: 9px 12px;
    border: none;
    border-radius: 8px;
    font-size: 15px;
    background: #ffffff;
    transition: all 0.2s;
    box-shadow: none;
    resize: none;
    max-height: 100px;
    overflow-y: auto;
    line-height: 20px;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    color: #111b21;
}

.message-input:focus {
    outline: none;
    box-shadow: none;
}

.message-input::placeholder {
    color: #667781;
}

.send-btn {
    width: 42px;
    height: 42px;
    border-radius: 50%;
    background: #25d366;
    border: none;
    color: white;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s;
    box-shadow: none;
    flex-shrink: 0;
    margin-bottom: 4px;
}

.send-btn:hover:not(:disabled) {
    background: #06cf9c;
}

.send-btn:active:not(:disabled) {
    transform: scale(0.95);
}

.send-btn:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    background: #25d366;
}

.send-icon {
    font-size: 20px;
    transform: rotate(0deg);
}

/* Preview Panel Styles */
.whatsapp-preview {
    flex: 1;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    background: #e5ddd5;
    background-image: url('https://web.whatsapp.com/img/bg-chat-tile-light_9eab6c7c6b6b6e3b2b6b6e3b.png');
    background-size: 300px;
}

.preview-contact-header {
    display: flex;
    align-items: center;
    padding: 14px 18px;
    background: linear-gradient(135deg, #075e54, #128c7e);
    color: #fff;
}

.preview-avatar {
    width: 48px;
    height: 48px;
    background: linear-gradient(135deg, #25d366, #128c7e);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 600;
    font-size: 18px;
    border: 2px solid rgba(255, 255, 255, 0.3);
    margin-right: 14px;
    flex-shrink: 0;
}

.preview-contact-info h4 {
    margin: 0;
    font-size: 16px;
    font-weight: 600;
}

.preview-contact-info span {
    font-size: 13px;
    opacity: 0.8;
    font-weight: 400;
}

.preview-chat-area {
    flex: 1;
    padding: 18px 14px;
    overflow-y: auto;
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
}

.preview-reply-context {
    display: flex;
    gap: 8px;
    padding: 6px 10px;
    background: rgba(0, 0, 0, 0.08);
    border-radius: 7.5px 7.5px 0 0;
    margin-bottom: -2px;
    font-size: 13px;
    border-left: 4px solid #06cf9c;
    width: fit-content;
    max-width: 350px;
    margin-left: auto;
}

.preview-reply-content {
    display: flex;
    flex-direction: column;
    gap: 2px;
    flex: 1;
}

.preview-reply-to {
    color: #06cf9c;
    font-weight: 500;
    font-size: 12.5px;
}

.preview-reply-text {
    color: #667781;
    font-size: 13px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.preview-message-bubble {
    background: linear-gradient(135deg, #dcf8c6, #d1f2a5);
    padding: 12px 14px 10px;
    border-radius: 12px 12px 6px 12px;
    margin-left: auto;
    max-width: 350px;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
    position: relative;
    word-wrap: break-word;
    border: 1px solid #c3f0ca;
    animation: fadeIn 0.3s ease;
}

.preview-message-bubble::before {
    content: '';
    position: absolute;
    bottom: 0;
    right: -8px;
    width: 0;
    height: 0;
    border: 8px solid transparent;
    border-left-color: #dcf8c6;
    border-bottom: none;
    border-right: none;
}

.preview-message-bubble.rtl {
    direction: rtl;
    text-align: right;
    border-radius: 12px 6px 12px 12px;
    margin-left: 0;
    margin-right: auto;
}

.preview-message-bubble.rtl::before {
    right: auto;
    left: -8px;
    border-left-color: transparent;
    border-right-color: #dcf8c6;
}

.preview-message-header {
    font-weight: 600;
    font-size: 15px;
    color: #1f2937;
    margin-bottom: 8px;
}

.preview-message-body {
    margin-bottom: 10px;
}

.preview-body-line {
    color: #1f2937;
    font-size: 14px;
    line-height: 1.5;
    margin-bottom: 4px;
}

.preview-body-line:last-child {
    margin-bottom: 0;
}

.preview-message-footer {
    font-size: 12px;
    color: #667085;
    margin-top: 8px;
    font-style: italic;
}

.preview-caption {
    color: #1f2937;
    font-size: 14px;
    margin-top: 8px;
    line-height: 1.4;
    display: block;
}

.preview-message-time {
    font-size: 11px;
    color: #667085;
    text-align: right;
    margin-top: 8px;
    font-weight: 500;
}

.preview-message-buttons {
    margin-top: 10px;
    display: flex;
    flex-direction: column;
    gap: 6px;
}

.preview-button {
    background: #25d366;
    color: #fff;
    padding: 8px 12px;
    border-radius: 6px;
    font-size: 13px;
    text-align: center;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
}

.preview-media {
    margin-bottom: 10px;
    border-radius: 12px;
    background: rgba(255, 255, 255, 0.5);
    overflow: hidden;
}

.preview-media img,
.preview-media video {
    width: 100%;
    max-width: 350px;
    max-height: 200px;
    object-fit: contain;
    border-radius: 12px;
    display: block;
}

.preview-document-icon {
    font-size: 28px;
    text-align: center;
    padding: 10px;
}

.preview-media span {
    font-size: 14px;
    color: #1f2937;
    font-weight: 500;
    display: block;
    padding: 8px;
}

.preview-media-placeholder {
    padding: 18px;
    text-align: center;
    color: #6b7280;
    background: rgba(255, 255, 255, 0.8);
    font-size: 14px;
    border-radius: 12px;
    max-height: 200px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.preview-no-content {
    text-align: center;
    padding: 60px 14px;
    color: #9ca3af;
}

.preview-empty-icon {
    font-size: 48px;
    margin-bottom: 14px;
    opacity: 0.6;
    animation: pulse 2s infinite;
}

.preview-no-content p {
    margin: 0 0 8px 0;
    font-size: 15px;
    font-weight: 500;
}

.preview-no-content small {
    font-size: 12px;
    opacity: 0.8;
}

@keyframes pulse {

    0%,
    100% {
        transform: scale(1);
    }

    50% {
        transform: scale(1.05);
    }
}

/* Scrollbar Styles */
::-webkit-scrollbar {
    width: 6px;
}

::-webkit-scrollbar-track {
    background: transparent;
}

::-webkit-scrollbar-thumb {
    background: rgba(0, 0, 0, 0.16);
    border-radius: 8px;
}

::-webkit-scrollbar-thumb:hover {
    background: rgba(0, 0, 0, 0.26);
}

/* Responsive Design */
@media (max-width: 1200px) {
    .preview-panel {
        width: 360px;
    }

    .preview-message-bubble {
        max-width: 300px;
    }

    .preview-reply-context {
        max-width: 300px;
    }
}

@media (max-width: 992px) {
    .chat-layout {
        flex-direction: column;
        gap: 12px;
    }

    .preview-panel {
        width: 100%;
        height: 300px;
        border-left: none;
        border-top: 1px solid #e0e4e8;
    }

    .preview-header {
        padding: 12px 16px;
    }

    .preview-chat-area {
        padding: 12px;
    }
}

@media (max-width: 768px) {
    .messages-area {
        padding: 12px 4% 12px 4%;
    }

    .message-wrapper {
        max-width: 80%;
    }

    .media-image,
    .media-video {
        max-width: 260px;
    }

    .input-area {
        padding: 8px 12px;
    }

    .chat-header {
        padding: 8px 12px;
    }

    .message-type-panel {
        max-height: 300px;
    }

    .template-form {
        max-height: 200px;
    }

    .preview-panel {
        display: none;
    }

    .preview-panel.active {
        display: flex;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 100;
        border-radius: 0;
    }

    .chat-main {
        width: 100%;
        border-radius: 0;
    }

    .file-preview-img,
    .file-preview-video {
        max-width: 150px;
        max-height: 100px;
    }
}

@media (max-width: 480px) {
    .selected-file-preview {
        flex-direction: column;
    }

    .file-preview-img,
    .file-preview-video {
        max-width: 100%;
    }
}

/* Smooth transitions */
* {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

/* Focus visible for accessibility */
button:focus-visible,
input:focus-visible,
select:focus-visible {
    outline: 2px solid #00a884;
    outline-offset: 2px;
}

/* Main Layout */
.chat-layout {
    display: flex;
    height: 100%;
    width: 100%;
    background: #f0f2f5;
    overflow: hidden;
    gap: 16px;
}

/* Chat Main */
.chat-main {
    flex: 1;
    display: flex;
    flex-direction: column;
    min-width: 0;
    background: #ffffff;
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

/* Preview Panel */
.preview-panel {
    width: 420px;
    background: #f8f9fa;
    border-left: 1px solid #e0e4e8;
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    display: flex;
    flex-direction: column;
    overflow: hidden;
}

.preview-header {
    padding: 16px 20px;
    background: linear-gradient(135deg, #075e54, #128c7e);
    color: #ffffff;
    border-bottom: none;
}

.preview-header h3 {
    margin: 0;
    font-size: 16px;
    font-weight: 600;
}

/* Chat Window */
.chat-window {
    display: flex;
    flex-direction: column;
    height: 100%;
    background: white;
    position: relative;
    overflow: hidden;
}

.chat-header {
    display: flex;
    align-items: center;
    padding: 10px 16px;
    background: linear-gradient(135deg, #075e54, #128c7e);
    color: #ffffff;
    border-bottom: none;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    min-height: 60px;
}

.back-btn,
.close-btn {
    background: none;
    border: none;
    color: #ffffff;
    font-size: 24px;
    cursor: pointer;
    padding: 8px;
    border-radius: 50%;
    transition: background 0.3s;
    margin-right: 10px;
}

.close-btn {
    font-size: 20px;
}

.back-btn:hover,
.close-btn:hover {
    background: rgba(255, 255, 255, 0.1);
}

.contact-avatar {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: linear-gradient(135deg, #25d366, #128c7e);
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 500;
    font-size: 16px;
    margin-right: 15px;
    color: #ffffff;
    flex-shrink: 0;
}

.contact-details {
    flex: 1;
    min-width: 0;
}

.contact-details h3 {
    margin: 0 0 2px 0;
    font-size: 16px;
    font-weight: 400;
    color: #ffffff;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.phone-number {
    font-size: 13px;
    color: rgba(255, 255, 255, 0.8);
    font-weight: 400;
}

/* Messages Area */
.messages-area {
    flex: 1;
    overflow-y: auto;
    overflow-x: hidden;
    padding: 20px 8% 20px 8%;
    background-color: #e5ddd5;
    background-image: url('https://web.whatsapp.com/img/bg-chat-tile-light_9eab6c7c6b6b6e3b2b6b6e3b.png');
    background-size: 300px;
    display: flex;
    flex-direction: column;
    min-height: 0;
    position: relative;
}

.loading-messages,
.loading-more {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 12px 16px;
    color: #667781;
    font-size: 13px;
    background: #ffffff;
    border-radius: 7.5px;
    margin: 10px auto;
    width: fit-content;
    box-shadow: 0 1px 0.5px rgba(11, 20, 26, .13);
}

.spinner {
    width: 20px;
    height: 20px;
    border: 2.5px solid #d9d9d9;
    border-top: 2.5px solid #667781;
    border-radius: 50%;
    animation: spin 0.6s linear infinite;
    margin-bottom: 8px;
}

@keyframes spin {
    0% {
        transform: rotate(0deg);
    }

    100% {
        transform: rotate(360deg);
    }
}

.empty-chat {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 60px 20px;
    color: #667781;
    flex-grow: 1;
}

.empty-icon {
    font-size: 64px;
    margin-bottom: 16px;
    opacity: 0.4;
}

.empty-chat p {
    font-size: 17px;
    font-weight: 400;
    margin: 0 0 6px 0;
    color: #41525d;
}

.empty-chat span {
    font-size: 14px;
    color: #8696a0;
}

/* Message Wrapper */
.message-wrapper {
    display: flex;
    flex-direction: column;
    margin-bottom: 8px;
    max-width: 65%;
    animation: fadeIn 0.2s ease;
    cursor: pointer;
    transition: transform 0.1s ease;
}

.message-wrapper:hover {
    transform: scale(1.01);
}

.message-wrapper:active {
    transform: scale(0.99);
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(5px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Media Loading Placeholder */
.media-loading-placeholder {
    width: 100%;
    max-width: 330px;
    height: 220px;
    background: linear-gradient(135deg, #f0f2f5, #e9edef);
    border-radius: 7.5px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 12px;
    animation: pulse 1.5s ease-in-out infinite;
}

.media-spinner {
    width: 40px;
    height: 40px;
    border: 3px solid rgba(0, 0, 0, 0.1);
    border-top: 3px solid #00a884;
    border-radius: 50%;
    animation: spin 0.8s linear infinite;
}

.media-loading-placeholder span {
    font-size: 13px;
    color: #667781;
    font-weight: 500;
}

@keyframes pulse {

    0%,
    100% {
        opacity: 1;
    }

    50% {
        opacity: 0.7;
    }
}

/* Smooth fade in when media loads */
.media-image.media-loaded,
.media-video.media-loaded {
    animation: fadeInMedia 0.3s ease;
}

@keyframes fadeInMedia {
    from {
        opacity: 0;
    }

    to {
        opacity: 1;
    }
}

/* -- STYLES FOR BLURRY IMAGE PLACEHOLDER -- */

/* ÿßŸÑÿ≠ÿßŸàŸäÿ© ÿßŸÑÿ™Ÿä ÿ™ÿ≠ÿßŸÅÿ∏ ÿπŸÑŸâ ŸÜÿ≥ÿ®ÿ© ÿ£ÿ®ÿπÿßÿØ ÿßŸÑÿµŸàÿ±ÿ© */
.media-container {
    position: relative;

    /* ‚úÖ ÿßŸÑÿ™ÿπÿØŸäŸÑ ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿä ŸáŸÜÿß */
    width: 330px;
    /* ÿ≠ÿßŸàŸÑ ÿ£ŸÜ ÿ™ŸÉŸàŸÜ ÿ®ÿπÿ±ÿ∂ 330 ÿ®ŸÉÿ≥ŸÑ */
    max-width: 100%;
    /* ŸÑŸÉŸÜ ŸÑÿß ÿ™ÿ™ÿ¨ÿßŸàÿ≤ ÿπÿ±ÿ∂ ÿßŸÑŸÅŸÇÿßÿπÿ© ÿßŸÑŸÖÿ™ÿßÿ≠ */

    background-color: #e9edef;
    border-radius: 7.5px;
    overflow: hidden;
    display: block;
    /* ÿ™ÿ£ŸÉÿØ ŸÖŸÜ ÿ£ŸÜŸáÿß ÿ™ÿ£ÿÆÿ∞ ŸÖÿ≥ÿßÿ≠ÿ© ŸÉŸÄ block */
}

/* ÿ®ÿßŸÇŸä ÿßŸÑÿ£ŸÜŸÖÿßÿ∑ ÿ™ÿ®ŸÇŸâ ŸÉŸÖÿß ŸáŸä ÿ®ÿØŸàŸÜ ÿ™ÿ∫ŸäŸäÿ± */
.media-placeholder {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    filter: blur(15px);
    transform: scale(1.1);
    opacity: 1;
    transition: opacity 0.4s ease-in-out;
}

.media-full-image {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    opacity: 0;
    transition: opacity 0.4s ease-in-out;
}

.media-full-image.loaded {
    opacity: 1;
}

/* ÿπŸÜÿØŸÖÿß ÿ™ÿ∏Ÿáÿ± ÿßŸÑÿµŸàÿ±ÿ© ÿßŸÑÿ≠ŸÇŸäŸÇŸäÿ©ÿå ŸÇŸÖ ÿ®ÿ•ÿÆŸÅÿßÿ° ÿßŸÑŸÄ placeholder */
.media-full-image.loaded+.media-placeholder {
    opacity: 0;
}

/* ================================================ */
/* ‚úÖ STYLES FOR VIDEO & DOCUMENT DISPLAY (IMPROVED) */
/* ================================================ */

/* --- Video Styles --- */
.media-video.loaded {
    display: block;
    width: 100%;
    max-width: 330px;
    border-radius: 7.5px;
    animation: fadeInMedia 0.4s ease;
}

/* --- Document Styles --- */
.document-preview {
    padding: 8px;
    background: #f0f2f5;
    border: 1px solid #e9edef;
    border-radius: 8px;
    /* max-width: 330px; */
    /* <-- ÿ¥ŸäŸÑ ÿØŸä ÿ£Ÿà ŸÇŸÑŸÑŸáÿß ŸÑŸà ŸÖÿ≠ÿØÿØÿ© */
    width: 100%;
    /* <-- ÿÆŸÑŸäŸáÿß 100% ÿπÿ¥ÿßŸÜ ÿ™ÿßÿÆÿØ ÿπÿ±ÿ∂ ÿßŸÑŸÖÿ≥ÿßÿ≠ÿ© ÿßŸÑŸÖÿ™ÿßÿ≠ÿ© ÿ¨ŸàŸá ÿßŸÑŸÅŸÇÿßÿπÿ© */
    box-sizing: border-box;
    /* <-- ŸÖŸáŸÖ: ÿπÿ¥ÿßŸÜ ÿßŸÑŸÄ padding ŸÖŸäÿÆÿ±ÿ¨ÿ¥ ÿ®ÿ±Ÿá ÿßŸÑŸÄ 100% */
    box-shadow: 0 1px 1px rgba(0, 0, 0, 0.03);
    display: block;
    /* <-- ÿ™ÿ£ŸÉÿØ ÿ•ŸÜŸáÿß block element */
}

.sent .document-preview {
    background: #e7ffdb;
    /* ŸÑŸàŸÜ ÿ£ÿÆŸÅ ŸÖÿ™ŸÖÿßÿ¥Ÿä ŸÖÿπ ÿßŸÑÿ±ÿ≥ÿßÿ¶ŸÑ ÿßŸÑŸÖÿ±ÿ≥ŸÑÿ© */
}

.document-loaded,
.media-loading-placeholder.document-style {
    display: flex;
    align-items: center;
    gap: 12px;
    background: transparent;
    padding: 0;
    width: 100%;
    /* <-- ÿÆŸÑŸäŸáÿß 100% ÿπÿ¥ÿßŸÜ ÿ™ÿßÿÆÿØ ÿπÿ±ÿ∂ ÿßŸÑŸÄ .document-preview */
    height: auto;
    animation: none;
    /* max-width: 330px; */
    /* <-- ÿ¥ŸäŸÑ ÿßŸÑÿ≥ÿ∑ÿ± ÿØŸá ŸÑŸà ŸÖŸàÿ¨ŸàÿØ */
}

/* Icon Styling */
.document-preview .media-icon {
    font-size: 26px;
    background-color: #78909c;
    /* ŸÑŸàŸÜ ŸÖŸÖŸäÿ≤ ŸÑŸÑÿ£ŸäŸÇŸàŸÜÿ© */
    color: white;
    border-radius: 50%;
    width: 48px;
    height: 48px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

/* Text Styling */
.document-info {
    flex-grow: 1;
    min-width: 0;
    /* ŸÖŸáŸÖ ÿπÿ¥ÿßŸÜ ÿßŸÑŸÄ text-overflow Ÿäÿ¥ÿ™ÿ∫ŸÑ ÿµÿ≠ */
}

.document-preview .media-filename {
    font-weight: 500;
    font-size: 15px;
    color: #111b21;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.document-preview .media-filesize {
    font-size: 13px;
    color: #667781;
    margin-top: 2px;
}

/* Download Button & Spinner Styling */
.download-button {
    background-color: transparent;
    color: #54656f;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    border: none;
    display: flex;
    align-items: center;
    justify-content: center;
    text-decoration: none;
    flex-shrink: 0;
    transition: background-color 0.2s ease;
}

.download-button:hover {
    background-color: rgba(0, 0, 0, 0.05);
}

.download-button svg {
    width: 20px;
    height: 20px;
    stroke-width: 2.5;
}

.media-loading-placeholder.document-style .media-spinner.small {
    width: 24px;
    height: 24px;
    border-width: 2.5px;
    margin: 0;
    flex-shrink: 0;
    margin-right: 8px;
    /* ÿπÿ¥ÿßŸÜ Ÿäÿ®ŸÇŸâ ŸÖŸÉÿßŸÜ ÿßŸÑÿ≤ÿ±ÿßÿ± */
}

/* Hide old loading text */
.media-loading-placeholder.document-style span {
    display: none;
}

/* ================================= */
/* ‚úÖ STYLES FOR INPUT AREA (REVISED) */
/* ================================= */

.input-area {
    display: flex;
    align-items: flex-end;
    /* Align items to the bottom */
    gap: 8px;
    padding: 10px 12px;
    /* Reduced padding slightly */
    background: #f0f2f5;
    min-height: 62px;
    position: relative;
    border-top: 1px solid #e9edef;
    /* Add separator line */
}

/* Attachment Button */
.attach-btn {
    flex-shrink: 0;
    margin-bottom: 6px;
    /* Align with input/buttons */
    /* (Your existing styles for attach-btn) */
    background: none;
    border: none;
    font-size: 26px;
    cursor: pointer;
    padding: 6px;
    border-radius: 50%;
    transition: all 0.2s;
    color: #54656f;
    position: relative;
}

.attach-btn:hover,
.attach-btn.active {
    background: rgba(0, 0, 0, 0.05);
}

/* Message Options */
.message-options {
    /* (Your existing styles) */
    position: absolute;
    bottom: 65px;
    left: 10px;
    background: white;
    border-radius: 12px;
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);
    padding: 8px;
    display: flex;
    flex-direction: column;
    gap: 4px;
    min-width: 180px;
    animation: slideUp 0.2s ease;
    z-index: 10;
}

/* ... (option-btn styles) ... */

/* Center Area (Input / Recording / Preview) */
.input-area-center {
    flex-grow: 1;
    /* Takes up available space */
    display: flex;
    align-items: center;
    /* Center vertically */
    min-width: 0;
    /* Important for input shrinking */
    background-color: #ffffff;
    /* White background like input */
    border-radius: 21px;
    /* Rounded corners */
    padding: 0 12px;
    /* Padding inside the white area */
    min-height: 42px;
    /* Match button height */
    box-shadow: 0 1px 1px rgba(0, 0, 0, 0.05);
    /* Subtle shadow */
}

/* Text Input */
.message-input {
    width: 100%;
    border: none;
    background: transparent;
    /* Transparent background */
    padding: 9px 0;
    /* Vertical padding only */
    font-size: 15px;
    line-height: 20px;
    color: #111b21;
    resize: none;
    max-height: 100px;
    /* Limit height for multi-line */
    overflow-y: auto;
    /* Allow scrolling for multi-line */
}

.message-input:focus {
    outline: none;
}

.message-input::placeholder {
    color: #8696a0;
}

/* Recording Indicator */
.recording-indicator {
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: space-between;
    /* Space out elements */
    font-size: 14px;
    color: #54656f;
    /* Less aggressive color */
    font-weight: 500;
}

.record-dot {
    color: #ef5350;
    font-size: 10px;
    margin-right: 5px;
    animation: pulse-dot 1.5s infinite ease-in-out;
}

@keyframes pulse-dot {

    0%,
    100% {
        transform: scale(1);
    }

    50% {
        transform: scale(1.4);
    }
}

.discard-btn.recording {
    /* Style for cancel button during recording */
    color: #ef5350;
    font-size: 20px;
    padding: 5px;
    margin-left: auto;
}


/* Audio Preview Input */
.audio-preview-input {
    width: 100%;
    display: flex;
    align-items: center;
    gap: 8px;
    background: transparent;
    /* Use parent background */
    padding: 0;
    /* Remove padding */
    border-radius: 0;
    /* Remove radius */
}

.audio-preview-input audio {
    flex-grow: 1;
    height: 38px;
    /* Slightly smaller height */
    min-width: 100px;
}

/* Controls list might need browser prefixes or might not work everywhere */
audio::-webkit-media-controls-panel {
    background-color: transparent;
}

audio::-webkit-media-controls-play-button {
    /* Add specific styling if needed */
}

.audio-preview-input .discard-btn {
    flex-shrink: 0;
    /* (Your existing discard styles) */
    background: none;
    border: none;
    font-size: 20px;
    cursor: pointer;
    padding: 8px;
    border-radius: 50%;
    color: #ef5350;
    transition: background 0.2s;
}

.discard-btn:hover {
    background: rgba(239, 83, 80, 0.1);
}

/* Right Area (Buttons) */
.input-area-right {
    display: flex;
    align-items: center;
    flex-shrink: 0;
    margin-bottom: 0;
    /* Align perfectly with bottom */
}

/* General Button Styles (Send/Mic/Stop) */
.send-btn,
.record-btn.mic,
.send-btn.stop-recording {
    width: 42px;
    height: 42px;
    border-radius: 50%;
    border: none;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s;
    box-shadow: none;
    padding: 0;
}

/* Send Button */
.send-btn {
    background: #00a884;
    /* WhatsApp Green */
    color: white;
}

.send-btn:hover:not(:disabled) {
    background: #007f60;
}

.send-btn:active:not(:disabled) {
    transform: scale(0.95);
}

.send-btn:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    background: #00a884;
}

.send-icon {
    font-size: 20px;
}

/* Mic Button */
.record-btn.mic {
    background: #00a884;
    /* Same as send */
    color: white;
    font-size: 20px;
}

.record-btn.mic:hover {
    background: #007f60;
}

/* Stop Recording Button (Checkmark) */
.send-btn.stop-recording {
    background: #ef5350;
    /* Red color */
    color: white;
    font-size: 24px;
    font-weight: bold;
}

.send-btn.stop-recording:hover {
    background: #d32f2f;
}

/* ================================================ */
/* ‚úÖ AUDIO PREVIEW IN INPUT AREA */
/* ================================================ */

/* Recording Indicator */
.recording-indicator {
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 8px;
}

.recording-animation {
  display: flex;
  align-items: center;
  gap: 8px;
}

.record-dot {
  width: 12px;
  height: 12px;
  background: #ef5350;
  border-radius: 50%;
  animation: pulse-record 1.5s ease-in-out infinite;
}

@keyframes pulse-record {
  0%, 100% {
    transform: scale(1);
    opacity: 1;
  }
  50% {
    transform: scale(1.3);
    opacity: 0.7;
  }
}

.recording-text {
  font-size: 14px;
  color: #ef5350;
  font-weight: 600;
}

.recording-time {
  font-size: 13px;
  color: #667781;
  font-weight: 500;
  font-variant-numeric: tabular-nums;
}

/* Audio Preview Custom */
.audio-preview-custom {
  width: 100%;
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 0 8px;
}

.audio-preview-play-btn {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  border: none;
  background: #00a884;
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.2s ease;
  flex-shrink: 0;
}

.audio-preview-play-btn:hover:not(:disabled) {
  background: #00916f;
  transform: scale(1.05);
}

.audio-preview-play-btn:active:not(:disabled) {
  transform: scale(0.95);
}

.audio-preview-play-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.audio-preview-play-btn.playing {
  background: #ef5350;
}

.audio-preview-play-btn.playing:hover:not(:disabled) {
  background: #e53935;
}

.audio-preview-content {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 4px;
  min-width: 0;
}

.audio-preview-waveform {
  position: relative;
  height: 24px;
  display: flex;
  align-items: center;
  gap: 2px;
  padding: 0 4px;
}

.wave-bar-small {
  flex: 1;
  background: rgba(0, 0, 0, 0.15);
  border-radius: 2px;
  transition: background 0.2s;
  min-width: 2px;
}

/* Random heights for preview waveform */
.wave-bar-small:nth-child(1) { height: 6px; }
.wave-bar-small:nth-child(2) { height: 12px; }
.wave-bar-small:nth-child(3) { height: 9px; }
.wave-bar-small:nth-child(4) { height: 15px; }
.wave-bar-small:nth-child(5) { height: 7px; }
.wave-bar-small:nth-child(6) { height: 14px; }
.wave-bar-small:nth-child(7) { height: 10px; }
.wave-bar-small:nth-child(8) { height: 16px; }
.wave-bar-small:nth-child(9) { height: 8px; }
.wave-bar-small:nth-child(10) { height: 13px; }
.wave-bar-small:nth-child(11) { height: 11px; }
.wave-bar-small:nth-child(12) { height: 18px; }
.wave-bar-small:nth-child(13) { height: 7px; }
.wave-bar-small:nth-child(14) { height: 14px; }
.wave-bar-small:nth-child(15) { height: 9px; }
.wave-bar-small:nth-child(16) { height: 16px; }
.wave-bar-small:nth-child(17) { height: 10px; }
.wave-bar-small:nth-child(18) { height: 12px; }
.wave-bar-small:nth-child(19) { height: 8px; }
.wave-bar-small:nth-child(20) { height: 15px; }

.audio-preview-progress {
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  background: linear-gradient(90deg, rgba(0, 168, 132, 0.3), rgba(0, 168, 132, 0.5));
  border-radius: 4px;
  pointer-events: none;
  transition: width 0.1s linear;
}

.audio-preview-time {
  font-size: 11px;
  color: #667781;
  font-weight: 500;
  padding: 0 4px;
  font-variant-numeric: tabular-nums;
}

.audio-preview-delete {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  border: none;
  background: transparent;
  color: #ef5350;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.2s ease;
  flex-shrink: 0;
}

.audio-preview-delete:hover {
  background: rgba(239, 83, 80, 0.1);
  transform: scale(1.1);
}

.audio-preview-delete:active {
  transform: scale(0.95);
}

/* Responsive Design */
@media (max-width: 768px) {
  .audio-preview-custom {
    padding: 0 4px;
    gap: 6px;
  }

  .audio-preview-play-btn {
    width: 32px;
    height: 32px;
  }

  .audio-preview-play-btn svg {
    width: 16px;
    height: 16px;
  }

  .audio-preview-delete {
    width: 28px;
    height: 28px;
  }

  .audio-preview-delete svg {
    width: 16px;
    height: 16px;
  }
}
/* ================================================ */
/* ‚úÖ CUSTOM AUDIO PLAYER ŸÅŸä ÿßŸÑÿ¥ÿßÿ™ (ŸÑŸÑÿ±ÿ≥ÿßÿ¶ŸÑ ÿßŸÑŸÖÿ±ÿ≥ŸÑÿ© ŸàÿßŸÑŸÖÿ≥ÿ™ŸÇÿ®ŸÑÿ©) */
/* ================================================ */

/* üéµ ÿßŸÑÿ≠ÿßŸàŸäÿ© ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ© ŸÑŸÑŸÄ Audio Player */
.audio-player-container {
  padding: 10px 12px;
  background: transparent;
  border-radius: 7.5px;
  min-width: 280px;
  max-width: 350px;
  width: 100%;
}

/* ================================================ */
/* ‚è≥ ÿ≠ÿßŸÑÿ© ÿßŸÑÿ™ÿ≠ŸÖŸäŸÑ (Loading State) */
/* ================================================ */
.audio-loading-ui {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 6px 0;
}

.audio-icon {
  width: 42px;
  height: 42px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(0, 168, 132, 0.12);
  border-radius: 50%;
  flex-shrink: 0;
  color: #00a884;
}

.sent .audio-icon {
  background: rgba(7, 94, 84, 0.15);
  color: #075e54;
}

.audio-icon svg {
  width: 22px;
  height: 22px;
}

.audio-info {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 6px;
  min-width: 0;
}

/* ŸÖŸàÿ¨ÿßÿ™ ÿßŸÑÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑŸÖÿ™ÿ≠ÿ±ŸÉÿ© */
.audio-waveform-placeholder {
  display: flex;
  align-items: center;
  gap: 3px;
  height: 32px;
  padding: 0 4px;
}

.audio-waveform-placeholder .wave-bar {
  width: 4px;
  background: rgba(0, 168, 132, 0.35);
  border-radius: 2px;
  animation: pulse-wave 1.2s ease-in-out infinite;
}

.sent .audio-waveform-placeholder .wave-bar {
  background: rgba(7, 94, 84, 0.3);
}

/* ÿßÿ±ÿ™ŸÅÿßÿπÿßÿ™ ŸÖÿÆÿ™ŸÑŸÅÿ© ŸÑŸÑŸÖŸàÿ¨ÿßÿ™ + ÿ™ÿ£ÿÆŸäÿ± ÿßŸÑŸÄ animation */
.audio-waveform-placeholder .wave-bar:nth-child(1) { height: 12px; animation-delay: 0s; }
.audio-waveform-placeholder .wave-bar:nth-child(2) { height: 22px; animation-delay: 0.1s; }
.audio-waveform-placeholder .wave-bar:nth-child(3) { height: 16px; animation-delay: 0.2s; }
.audio-waveform-placeholder .wave-bar:nth-child(4) { height: 26px; animation-delay: 0.3s; }
.audio-waveform-placeholder .wave-bar:nth-child(5) { height: 14px; animation-delay: 0.4s; }
.audio-waveform-placeholder .wave-bar:nth-child(6) { height: 20px; animation-delay: 0.5s; }
.audio-waveform-placeholder .wave-bar:nth-child(7) { height: 18px; animation-delay: 0.6s; }
.audio-waveform-placeholder .wave-bar:nth-child(8) { height: 24px; animation-delay: 0.7s; }

@keyframes pulse-wave {
  0%, 100% { opacity: 0.3; transform: scaleY(0.8); }
  50% { opacity: 1; transform: scaleY(1); }
}

.audio-duration-text {
  font-size: 12px;
  color: #667781;
  font-weight: 500;
  padding: 0 4px;
}

.sent .audio-duration-text {
  color: #667781;
}

/* Spinner ÿµÿ∫Ÿäÿ± */
.audio-spinner-small {
  width: 22px;
  height: 22px;
  border: 2.5px solid rgba(0, 0, 0, 0.08);
  border-top: 2.5px solid #00a884;
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
  flex-shrink: 0;
}

.sent .audio-spinner-small {
  border-top-color: #075e54;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* ================================================ */
/* ‚úÖ ÿßŸÑŸÖÿ¥ÿ∫ŸÑ ÿßŸÑŸÖÿÆÿµÿµ (Custom Audio Player) */
/* ================================================ */
.custom-audio-player {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 4px 0;
}

/* üéµ ÿ≤ÿ± Play/Pause */
.audio-play-btn {
  width: 42px;
  height: 42px;
  border-radius: 50%;
  border: none;
  background: linear-gradient(135deg, #00a884, #009973);
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
  flex-shrink: 0;
  box-shadow: 0 2px 6px rgba(0, 168, 132, 0.25);
  position: relative;
}

/* ŸÑŸÑÿ±ÿ≥ÿßÿ¶ŸÑ ÿßŸÑŸÖÿ±ÿ≥ŸÑÿ© */
.sent .audio-play-btn {
  background: linear-gradient(135deg, #075e54, #054a42);
  box-shadow: 0 2px 6px rgba(7, 94, 84, 0.25);
}

.audio-play-btn:hover:not(:disabled) {
  background: linear-gradient(135deg, #00916f, #007d5c);
  transform: scale(1.05);
  box-shadow: 0 4px 12px rgba(0, 168, 132, 0.35);
}

.sent .audio-play-btn:hover:not(:disabled) {
  background: linear-gradient(135deg, #054a42, #043833);
  box-shadow: 0 4px 12px rgba(7, 94, 84, 0.35);
}

.audio-play-btn:active:not(:disabled) {
  transform: scale(0.95);
}

.audio-play-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.audio-play-btn svg {
  width: 20px;
  height: 20px;
  filter: drop-shadow(0 1px 2px rgba(0,0,0,0.15));
}

/* ÿ≠ÿßŸÑÿ© ÿßŸÑŸÄ Playing (ÿ£ÿ≠ŸÖÿ±) */
.audio-play-btn.playing {
  background: linear-gradient(135deg, #ef5350, #e53935);
  box-shadow: 0 2px 6px rgba(239, 83, 80, 0.25);
}

.sent .audio-play-btn.playing {
  background: linear-gradient(135deg, #d32f2f, #c62828);
  box-shadow: 0 2px 6px rgba(211, 47, 47, 0.25);
}

.audio-play-btn.playing:hover:not(:disabled) {
  background: linear-gradient(135deg, #e53935, #d32f2f);
  box-shadow: 0 4px 12px rgba(239, 83, 80, 0.35);
}

.sent .audio-play-btn.playing:hover:not(:disabled) {
  background: linear-gradient(135deg, #c62828, #b71c1c);
  box-shadow: 0 4px 12px rgba(211, 47, 47, 0.35);
}

/* ÿ™ÿ£ÿ´Ÿäÿ± ÿßŸÑŸÜÿ®ÿ∂ ÿ£ÿ´ŸÜÿßÿ° ÿßŸÑÿ™ÿ¥ÿ∫ŸäŸÑ */
@keyframes audio-playing-pulse {
  0%, 100% { 
    box-shadow: 0 2px 6px rgba(239, 83, 80, 0.25);
  }
  50% { 
    box-shadow: 0 4px 16px rgba(239, 83, 80, 0.45);
  }
}

.audio-play-btn.playing {
  animation: audio-playing-pulse 2s ease-in-out infinite;
}

/* ================================================ */
/* üìä ŸÖŸÜÿ∑ŸÇÿ© ÿßŸÑŸÖÿ≠ÿ™ŸàŸâ (ÿßŸÑŸÖŸàÿ¨ÿßÿ™ + ÿßŸÑŸàŸÇÿ™) */
/* ================================================ */
.audio-content {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 6px;
  min-width: 0;
}

/* ÿ≠ÿßŸàŸäÿ© ÿ¥ÿ±Ÿäÿ∑ ÿßŸÑÿ™ŸÇÿØŸÖ */
.audio-progress-container {
  position: relative;
  height: 36px;
  cursor: pointer;
  display: flex;
  align-items: center;
  border-radius: 6px;
  padding: 0 6px;
  transition: background 0.2s ease;
  user-select: none;
}

.audio-progress-container:hover {
  background: rgba(0, 0, 0, 0.04);
}

.sent .audio-progress-container:hover {
  background: rgba(0, 0, 0, 0.06);
}

/* ÿßŸÑŸÖŸàÿ¨ÿßÿ™ ÿßŸÑÿµŸàÿ™Ÿäÿ© (Waveform) */
.audio-waveform {
  position: relative;
  width: 100%;
  height: 36px;
  display: flex;
  align-items: center;
  gap: 2px;
  z-index: 1;
}

.audio-waveform .wave-bar {
  flex: 1;
  background: rgba(0, 0, 0, 0.18);
  border-radius: 2px;
  transition: all 0.2s ease;
  min-width: 2px;
  max-width: 4px;
}

.sent .audio-waveform .wave-bar {
  background: rgba(0, 0, 0, 0.15);
}

/* ÿßÿ±ÿ™ŸÅÿßÿπÿßÿ™ ÿπÿ¥Ÿàÿßÿ¶Ÿäÿ© ŸÑŸÑŸÖŸàÿ¨ÿßÿ™ (30 ÿπŸÖŸàÿØ) */
.audio-waveform .wave-bar:nth-child(1) { height: 10px; }
.audio-waveform .wave-bar:nth-child(2) { height: 18px; }
.audio-waveform .wave-bar:nth-child(3) { height: 14px; }
.audio-waveform .wave-bar:nth-child(4) { height: 24px; }
.audio-waveform .wave-bar:nth-child(5) { height: 12px; }
.audio-waveform .wave-bar:nth-child(6) { height: 20px; }
.audio-waveform .wave-bar:nth-child(7) { height: 16px; }
.audio-waveform .wave-bar:nth-child(8) { height: 26px; }
.audio-waveform .wave-bar:nth-child(9) { height: 11px; }
.audio-waveform .wave-bar:nth-child(10) { height: 22px; }
.audio-waveform .wave-bar:nth-child(11) { height: 15px; }
.audio-waveform .wave-bar:nth-child(12) { height: 28px; }
.audio-waveform .wave-bar:nth-child(13) { height: 13px; }
.audio-waveform .wave-bar:nth-child(14) { height: 19px; }
.audio-waveform .wave-bar:nth-child(15) { height: 17px; }
.audio-waveform .wave-bar:nth-child(16) { height: 25px; }
.audio-waveform .wave-bar:nth-child(17) { height: 12px; }
.audio-waveform .wave-bar:nth-child(18) { height: 21px; }
.audio-waveform .wave-bar:nth-child(19) { height: 14px; }
.audio-waveform .wave-bar:nth-child(20) { height: 23px; }
.audio-waveform .wave-bar:nth-child(21) { height: 16px; }
.audio-waveform .wave-bar:nth-child(22) { height: 20px; }
.audio-waveform .wave-bar:nth-child(23) { height: 13px; }
.audio-waveform .wave-bar:nth-child(24) { height: 22px; }
.audio-waveform .wave-bar:nth-child(25) { height: 15px; }
.audio-waveform .wave-bar:nth-child(26) { height: 27px; }
.audio-waveform .wave-bar:nth-child(27) { height: 14px; }
.audio-waveform .wave-bar:nth-child(28) { height: 19px; }
.audio-waveform .wave-bar:nth-child(29) { height: 17px; }
.audio-waveform .wave-bar:nth-child(30) { height: 24px; }

/* ÿ¥ÿ±Ÿäÿ∑ ÿßŸÑÿ™ŸÇÿØŸÖ (Overlay) */
.audio-progress-overlay {
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  background: linear-gradient(90deg, rgba(0, 168, 132, 0.25), rgba(0, 168, 132, 0.45));
  border-radius: 6px;
  pointer-events: none;
  z-index: 2;
  transition: width 0.1s linear;
}

.sent .audio-progress-overlay {
  background: linear-gradient(90deg, rgba(7, 94, 84, 0.25), rgba(7, 94, 84, 0.45));
}

/* ‚è±Ô∏è ÿπÿ±ÿ∂ ÿßŸÑŸàŸÇÿ™ */
.audio-time {
  display: flex;
  align-items: center;
  gap: 5px;
  font-size: 11px;
  font-weight: 500;
  padding: 0 6px;
  user-select: none;
  font-variant-numeric: tabular-nums;
  line-height: 1;
}

.time-current {
  color: #00a884;
  font-weight: 600;
  letter-spacing: 0.3px;
}

.sent .time-current {
  color: #075e54;
}

.time-separator {
  color: #8696a0;
  font-weight: 400;
  margin: 0 1px;
}

.time-duration {
  color: #667781;
  font-weight: 500;
}

/* ================================================ */
/* üì± Responsive Design */
/* ================================================ */
@media (max-width: 768px) {
  .audio-player-container {
    min-width: 240px;
    max-width: 300px;
    padding: 8px 10px;
  }

  .audio-play-btn {
    width: 38px;
    height: 38px;
  }

  .audio-play-btn svg {
    width: 18px;
    height: 18px;
  }

  .audio-icon {
    width: 38px;
    height: 38px;
  }

  .audio-icon svg {
    width: 20px;
    height: 20px;
  }

  .custom-audio-player {
    gap: 10px;
  }

  .audio-progress-container {
    height: 32px;
  }

  .audio-waveform {
    height: 32px;
    gap: 1.5px;
  }

  .audio-time {
    font-size: 10px;
  }
}

@media (max-width: 480px) {
  .audio-player-container {
    min-width: 200px;
    max-width: 260px;
  }

  .audio-play-btn {
    width: 36px;
    height: 36px;
  }

  .audio-play-btn svg {
    width: 16px;
    height: 16px;
  }
}
/* ================================================ */
/* ‚úÖ STYLES FOR MANUAL EMOJI PICKER (NEW) */
/* ================================================ */

/* (1) ÿßŸÑÿ≠ÿßŸàŸäÿ© ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ© ŸÑŸÑŸÖŸÜÿ™ŸÇŸä */
.manual-emoji-picker {
  position: absolute;
  bottom: 70px; /* ŸÅŸàŸÇ ÿ¥ÿ±Ÿäÿ∑ ÿßŸÑÿ•ÿØÿÆÿßŸÑ */
  left: 16px;
  z-index: 10;
  width: 350px;
  height: 400px; /* ÿßÿ±ÿ™ŸÅÿßÿπ ÿ´ÿßÿ®ÿ™ ŸÑÿ•ÿ∏Ÿáÿßÿ± ÿßŸÑÿ≥ŸÉÿ±ŸàŸÑ */
  background: #ffffff;
  border: 1px solid #e9edef;
  border-radius: 12px;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
  animation: slideUp 0.2s ease; /* ŸÜŸÅÿ≥ ÿ≠ÿ±ŸÉÿ© ÿßŸÑŸÅÿ™ÿ≠ */
  display: flex;
  flex-direction: column;
  overflow: hidden; /* ŸÑÿ•ÿÆŸÅÿßÿ° ÿ£Ÿä ŸÅŸäÿ∂ÿßŸÜ */
}

/* (2) ÿ¥ÿ±Ÿäÿ∑ ÿßŸÑÿ£ŸÇÿ≥ÿßŸÖ (Tabs) */
.emoji-categories {
  display: flex;
  flex-wrap: nowrap; /* ŸÖŸÜÿπ ŸÜÿ≤ŸàŸÑ ÿßŸÑÿ£ÿ≤ÿ±ÿßÿ± ŸÑÿ≥ÿ∑ÿ± ÿ¨ÿØŸäÿØ */
  overflow-x: auto; /* ÿ≥ŸÉÿ±ŸàŸÑ ÿ£ŸÅŸÇŸä ŸÑŸÑÿ£ŸÇÿ≥ÿßŸÖ */
  overflow-y: hidden;
  padding: 8px;
  background: #f0f2f5;
  border-bottom: 1px solid #e9edef;
  scrollbar-width: thin; /* Firefox */
}
/* ÿ≥ÿ™ÿßŸäŸÑ ÿßŸÑÿ≥ŸÉÿ±ŸàŸÑ ÿßŸÑÿ£ŸÅŸÇŸä ŸÑŸÑŸÄ tabs */
.emoji-categories::-webkit-scrollbar {
  height: 4px;
  background: #f0f2f5;
}
.emoji-categories::-webkit-scrollbar-thumb {
  background: #d1d7db;
  border-radius: 2px;
}

.category-btn {
  background: transparent;
  border: none;
  border-radius: 6px;
  padding: 6px 10px;
  font-size: 20px;
  cursor: pointer;
  transition: background 0.2s;
  flex-shrink: 0; /* ŸÖŸÜÿπ ÿßŸÑÿ£ÿ≤ÿ±ÿßÿ± ŸÖŸÜ ÿßŸÑÿßŸÜŸÉŸÖÿßÿ¥ */
}
.category-btn:hover {
  background: #e0e4e8;
}
.category-btn.active {
  background: #d1d7db;
}

/* (3) ÿ≠ÿßŸàŸäÿ© ŸÇÿßÿ¶ŸÖÿ© ÿßŸÑÿ•ŸäŸÖŸàÿ¨Ÿäÿ≤ (Scrollable) */
.emoji-list-container {
  flex: 1; /* ÿ™ÿ£ÿÆÿ∞ ÿ®ÿßŸÇŸä ÿßŸÑŸÖÿ≥ÿßÿ≠ÿ© ÿßŸÑŸÖÿ™ÿßÿ≠ÿ© */
  overflow-y: auto; /* ÿ≥ŸÉÿ±ŸàŸÑ ÿ±ÿ£ÿ≥Ÿä */
  padding: 8px 12px;
  scrollbar-width: thin;
}

.emoji-category-title {
  font-size: 14px;
  font-weight: 600;
  color: #54656f;
  padding: 4px 0 10px 4px;
  text-transform: capitalize;
  position: sticky; /* ÿ™ÿ´ÿ®Ÿäÿ™ ÿßŸÑÿπŸÜŸàÿßŸÜ */
  top: -8px; /* ŸÑÿ™ÿ∫ÿ∑Ÿäÿ© ÿßŸÑŸÄ padding */
  background: #ffffff;
  padding-top: 8px; /* ŸÑÿ•ÿπÿßÿØÿ© ÿßŸÑŸÄ padding */
}

/* (4) ÿ¥ÿ®ŸÉÿ© ÿßŸÑÿ•ŸäŸÖŸàÿ¨Ÿäÿ≤ */
.emoji-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(32px, 1fr));
  gap: 6px;
}

.emoji-item {
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 24px;
  cursor: pointer;
  border-radius: 6px;
  padding: 4px;
  transition: background 0.2s;
}
.emoji-item:hover {
  background: #f0f2f5;
}

/* (5) ÿ≥ÿ™ÿßŸäŸÑ ÿ≤ÿ± ÿßŸÑÿ•ŸäŸÖŸàÿ¨Ÿä (ŸÖÿ¥ÿßÿ®Ÿá ŸÑÿ≤ÿ± ÿßŸÑŸÖÿ±ŸÅŸÇÿßÿ™) */
.emoji-btn {
    background: none;
    border: none;
    font-size: 24px;
    cursor: pointer;
    padding: 6px;
    border-radius: 50%;
    transition: all 0.2s;
    color: #54656f;
    margin-bottom: 6px;
    flex-shrink: 0;
    position: relative;
    line-height: 1;
}

.emoji-btn:hover,
.emoji-btn.active {
    background: rgba(0, 0, 0, 0.05);
}